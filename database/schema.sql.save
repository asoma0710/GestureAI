-- Create Users table
CREATE TABLE gestureaiusers (
    userID SERIAL PRIMARY KEY,
    username VARCHAR(255) UNIQUE NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    profile_picture BYTEA,
    is_active BOOLEAN NOT NULL DEFAULT true
);

-- Create Admins table
CREATE TABLE Admins (
    adminID SERIAL PRIMARY KEY,
    userID INT NOT NULL,
    FOREIGN KEY (userID) REFERENCES Users(userID)
);

-- Create Feedback table
CREATE TABLE Feedback (
    feedback_id SERIAL PRIMARY KEY,
    user_id INT NOT NULL,
    content TEXT NOT NULL,
    created_at TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    resolved BOOLEAN NOT NULL DEFAULT false,
    FOREIGN KEY (user_id) REFERENCES Users(userID)
);

-- Create Merchandise table
CREATE TABLE Merchandise (
    merchandise_id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    picture VARCHAR(255),
    base_price FLOAT NOT NULL
);

-- Create Subscriptions table
CREATE TABLE Subscriptions (
    subscription_id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    discount_percentage INT NOT NULL
);

-- Create Purchases table
CREATE TABLE Purchases (
    purchase_id SERIAL PRIMARY KEY,
    user_id INT NOT NULL,
    merchandise_id INT NOT NULL,
    subscription_id INT,
    final_price FLOAT NOT NULL,
    FOREIGN KEY (user_id) REFERENCES Users(userID),
    FOREIGN KEY (merchandise_id) REFERENCES Merchandise(merchandise_id),
    FOREIGN KEY (subscription_id) REFERENCES Subscriptions(subscription_id)
);

-- Create GestureAIModel table
CREATE TABLE GestureAIModel (
    modelID SERIAL PRIMARY KEY,
    modelName VARCHAR(255) NOT NULL,
    version VARCHAR(50) NOT NULL,
    accuracy FLOAT NOT NULL
);
